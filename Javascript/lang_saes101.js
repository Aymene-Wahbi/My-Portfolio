const translations = {
    fr: {
        "navAccueil": "Accueil",
        "navApropos": "À propos",
        "navCV": "CV",
        "navSAE": "SAÉ101",
        "MyPortfolio": "My Portfolio",
        "music-status": "Activer la musique",
        "music-status-enable": "Désactiver la musique",
        "music-status-disable": "Activer la musique",
        "sae-title": "🛡️ SAE101 – Sensibilisation à la cybersécurité",
        "sae-description": "Dans le cadre de mon <abbr title=\"Bachelor Universitaire de Technologie\">BUT</abbr> <abbr title=\"Réseaux et Télécommunications\">RT</abbr>, j’ai participé à la SAE101, un projet axé sur la sensibilisation à la sécurité informatique auprès d’un public non expert.<br>Ce travail m’a permis de développer à la fois mes connaissances en cybersécurité et mes compétences en communication visuelle.",
        "sae-description2": "En m'appuyant sur le <em>MOOC SecNumAcadémie</em> de l’<abbr title=\"Agence Nationale de la Sécurité des Systèmes d’Information\">ANSSI</abbr>, j’ai d’abord consolidé mes connaissances des bonnes pratiques en matière de sécurité des systèmes d'information.<br>Ensuite, en collaboration avec mes camarades, nous avons conçu une <em>affiche pédagogique</em> claire et attrayante pour sensibiliser efficacement aux risques liés aux ransomwares.",
        "sae-description3": "J’ai également obtenu une <a id=\"Affiche\" href=\"/saes/sae102/data/download/jVWMIdtsyDYLTvCCeN2dR7Wnx2O4yZtTW5U707qqkBbRKuyrBIabGjcer2pZ_134551_20022025.pdf\" target=\"_blank\">attestation officielle</a> du MOOC, que j’ai intégrée à ce portfolio.",
        "learned-title": "Ce projet m’a appris à :",
        "learned1": "💡 Vulgariser des notions techniques pour un public non initié,",
        "learned2": "🧠 Adopter les bons réflexes en matière de cybersécurité,",
        "learned3": "🤝 Travailler efficacement en équipe jusqu’à la soutenance finale.",
        "result-title": "🎨 Résultat concret : notre affiche de sensibilisation",
        "back-top": "Retour en haut",
        "prev": "Précédent",
        "next": "Suivant"
    },
    en: {
        "navAccueil": "Home",
        "navApropos": "About",
        "navCV": "Resume",
        "navSAE": "SAE101",
        "MyPortfolio": "My Portfolio",
        "music-status": "Enable music",
        "music-status-enable": "Disable music",
        "music-status-disable": "Enable music",
        "sae-title": "🛡️ SAE101 – Cybersecurity Awareness",
        "sae-description": "As part of my <abbr title=\"Bachelor of Technology\">BUT</abbr> <abbr title=\"Networks and Telecommunications\">RT</abbr>, I participated in SAE101, a project focused on raising awareness about computer security among a non-expert audience.<br>This work allowed me to develop both my knowledge of cybersecurity and my visual communication skills.",
        "sae-description2": "Building on the <em>MOOC SecNumAcadémie</em> from <abbr title=\"National Cybersecurity Agency of France\">ANSSI</abbr>, I first consolidated my knowledge of best practices in information systems security.<br>Then, in collaboration with my classmates, we designed a clear and attractive <em>educational poster</em> to effectively raise awareness about ransomware risks.",
        "sae-description3": "I also obtained an <a id=\"Affiche\" href=\"/saes/sae102/data/download/jVWMIdtsyDYLTvCCeN2dR7Wnx2O4yZtTW5U707qqkBbRKuyrBIabGjcer2pZ_134551_20022025.pdf\" target=\"_blank\">official certificate</a> from the MOOC, which I have included in this portfolio.",
        "learned-title": "This project taught me to:",
        "learned1": "💡 Explain technical concepts to a non-expert audience,",
        "learned2": "🧠 Adopt good reflexes in terms of cybersecurity,",
        "learned3": "🤝 Work effectively as a team until the final presentation.",
        "result-title": "🎨 Concrete result: our awareness poster",
        "back-top": "Back to top",
        "prev": "Previous",
        "next": "Next"
    },
    ar: {
        "navAccueil": "الرئيسية",
        "navApropos": "حول",
        "navCV": "السيرة الذاتية",
        "navSAE": "SAE101",
        "MyPortfolio": "My Portfolio",
        "music-status": "تشغيل الموسيقى",
        "music-status-enable": "إيقاف الموسيقى",
        "music-status-disable": "تشغيل الموسيقى",
        "sae-title": "🛡️ SAE101 – التوعية بالأمن السيبراني",
        "sae-description": "في إطار <abbr title=\"بكالوريوس التكنولوجيا\">BUT</abbr> <abbr title=\"الشبكات والاتصالات\">RT</abbr>، شاركت في SAE101، وهو مشروع يركز على التوعية بأمان الحاسوب لدى جمهور غير متخصص.<br>مكنني هذا العمل من تطوير كل من معرفتي بالأمن السيبراني ومهاراتي في التواصل البصري.",
        "sae-description2": "بالاعتماد على <em>MOOC SecNumAcadémie</em> من <abbr title=\"الوكالة الوطنية لأمن أنظمة المعلومات\">ANSSI</abbr>، عززت أولاً معرفتي بممارسات الأمان الجيدة لنظم المعلومات.<br>ثم، بالتعاون مع زملائي، قمنا بتصميم <em>ملصق تعليمي</em> واضح وجذاب للتوعية الفعالة بمخاطر برامج الفدية.",
        "sae-description3": "حصلت أيضًا على <a id=\"Affiche\" href=\"/saes/sae102/data/download/jVWMIdtsyDYLTvCCeN2dR7Wnx2O4yZtTW5U707qqkBbRKuyrBIabGjcer2pZ_134551_20022025.pdf\" target=\"_blank\">شهادة رسمية</a> من MOOC، والتي أدرجتها في هذا الملف الشخصي.",
        "learned-title": "علمني هذا المشروع:",
        "learned1": "💡 تبسيط المفاهيم التقنية لجمهور غير متخصص،",
        "learned2": "🧠 تبني ردود الفعل الجيدة في مجال الأمن السيبراني،",
        "learned3": "🤝 العمل بفعالية ضمن فريق حتى العرض النهائي.",
        "result-title": "🎨 النتيجة الملموسة: ملصق التوعية الخاص بنا",
        "back-top": "العودة للأعلى",
        "prev": "السابق",
        "next": "التالي"
    },
    es: {
        "navAccueil": "Inicio",
        "navApropos": "Acerca de",
        "navCV": "Currículum",
        "navSAE": "SAE101",
        "MyPortfolio": "My Portfolio",
        "music-status": "Activar música",
        "music-status-enable": "Desactivar música",
        "music-status-disable": "Activar música",
        "sae-title": "🛡️ SAE101 – Sensibilización sobre ciberseguridad",
        "sae-description": "Como parte de mi <abbr title=\"Título Universitario de Tecnología\">BUT</abbr> <abbr title=\"Redes y Telecomunicaciones\">RT</abbr>, participé en SAE101, un proyecto centrado en la sensibilización sobre la seguridad informática dirigido a un público no experto.<br>Este trabajo me permitió desarrollar tanto mis conocimientos en ciberseguridad como mis habilidades en comunicación visual.",
        "sae-description2": "Basándome en el <em>MOOC SecNumAcadémie</em> de la <abbr title=\"Agencia Nacional de Seguridad de los Sistemas de Información\">ANSSI</abbr>, consolidé primero mis conocimientos sobre buenas prácticas en seguridad de sistemas de información.<br>Luego, en colaboración con mis compañeros, diseñamos un <em>póster educativo</em> claro y atractivo para sensibilizar eficazmente sobre los riesgos del ransomware.",
        "sae-description3": "También obtuve un <a id=\"Affiche\" href=\"/saes/sae102/data/download/jVWMIdtsyDYLTvCCeN2dR7Wnx2O4yZtTW5U707qqkBbRKuyrBIabGjcer2pZ_134551_20022025.pdf\" target=\"_blank\">certificado oficial</a> del MOOC, que he incluido en este portafolio.",
        "learned-title": "Este proyecto me enseñó a:",
        "learned1": "💡 Explicar conceptos técnicos a un público no experto,",
        "learned2": "🧠 Adoptar buenos reflejos en materia de ciberseguridad,",
        "learned3": "🤝 Trabajar eficazmente en equipo hasta la presentación final.",
        "result-title": "🎨 Resultado concreto: nuestro póster de sensibilización",
        "back-top": "Volver arriba",
        "prev": "Anterior",
        "next": "Siguiente"
    },
    de: {
        "navAccueil": "Start",
        "navApropos": "Über mich",
        "navCV": "Lebenslauf",
        "navSAE": "SAE101",
        "MyPortfolio": "My Portfolio",
        "music-status": "Musik aktivieren",
        "music-status-enable": "Musik deaktivieren",
        "music-status-disable": "Musik aktivieren",
        "sae-title": "🛡️ SAE101 – Sensibilisierung für Cybersicherheit",
        "sae-description": "Im Rahmen meines <abbr title=\"Bachelor of Technology\">BUT</abbr> <abbr title=\"Netzwerke und Telekommunikation\">RT</abbr> habe ich an SAE101 teilgenommen, einem Projekt zur Sensibilisierung für Computersicherheit bei einem nicht fachkundigen Publikum.<br>Diese Arbeit ermöglichte es mir, sowohl meine Kenntnisse im Bereich Cybersicherheit als auch meine visuellen Kommunikationsfähigkeiten zu entwickeln.",
        "sae-description2": "Aufbauend auf dem <em>MOOC SecNumAcadémie</em> der <abbr title=\"Nationale Agentur für die Sicherheit von Informationssystemen\">ANSSI</abbr> habe ich zunächst mein Wissen über bewährte Verfahren zur Sicherheit von Informationssystemen gefestigt.<br>Anschließend haben wir gemeinsam mit meinen Kommilitonen ein klares und ansprechendes <em>pädagogisches Poster</em> entworfen, um effektiv auf die Risiken von Ransomware aufmerksam zu machen.",
        "sae-description3": "Ich habe auch ein <a id=\"Affiche\" href=\"/saes/sae102/data/download/jVWMIdtsyDYLTvCCeN2dR7Wnx2O4yZtTW5U707qqkBbRKuyrBIabGjcer2pZ_134551_20022025.pdf\" target=\"_blank\">offizielles Zertifikat</a> vom MOOC erhalten, das ich in dieses Portfolio aufgenommen habe.",
        "learned-title": "Dieses Projekt hat mir beigebracht:",
        "learned1": "💡 Technische Konzepte für ein nicht fachkundiges Publikum verständlich zu machen,",
        "learned2": "🧠 Gute Reflexe im Bereich Cybersicherheit zu entwickeln,",
        "learned3": "🤝 Bis zur finalen Präsentation effektiv im Team zu arbeiten.",
        "result-title": "🎨 Konkretes Ergebnis: unser Sensibilisierungsposter",
        "back-top": "Nach oben",
        "prev": "Zurück",
        "next": "Weiter"
    }
};

function changeLanguage(lang) {
    if (lang === "ar") {
        document.documentElement.dir = "rtl";
        document.documentElement.lang = "ar";
    } else {
        document.documentElement.dir = "ltr";
        document.documentElement.lang = lang;
    }
    document.getElementById('MyPortfolio').textContent = translations[lang].MyPortfolio;
    const audio = document.getElementById('ambientAudio');
    const musicStatus = document.getElementById('music-status');
    if (audio && musicStatus) {
        musicStatus.textContent = audio.paused
            ? translations[lang]['music-status-disable']
            : translations[lang]['music-status-enable'];
    }
    document.querySelector('header h2').textContent = translations[lang]['sae-title'];
    const experienceDivs = document.querySelectorAll('.Experience');
    if (experienceDivs[0]) {
        // Remplacer les paragraphes de description
        const allP = experienceDivs[0].querySelectorAll('p');
        if (allP[0]) allP[0].innerHTML = translations[lang]['sae-description'];
        if (allP[1]) allP[1].innerHTML = translations[lang]['sae-description2'];
        if (allP[2]) allP[2].innerHTML = translations[lang]['sae-description3'];
    }
    // Titre "Ce projet m’a appris à :"
    const learnedTitle = document.getElementById('learned-title');
    if (learnedTitle) learnedTitle.textContent = translations[lang]['learned-title'];
    // Liste des points appris
    const learnedList = document.getElementById('learned-list');
    if (learnedList) {
        learnedList.innerHTML = `
            <li>${translations[lang]['learned1']}</li>
            <li>${translations[lang]['learned2']}</li>
            <li>${translations[lang]['learned3']}</li>
        `;
    }
    // Titre du résultat
    const resultTitle = document.getElementById('result-title');
    if (resultTitle) resultTitle.textContent = translations[lang]['result-title'];
    // Boutons de navigation
    const prevBtn = document.querySelector('.resume-download a:first-child');
    const nextBtn = document.querySelector('.resume-download a:nth-child(2)');
    const backTop = document.getElementById('back_top');
    if (prevBtn) prevBtn.textContent = translations[lang]['prev'];
    if (nextBtn) nextBtn.textContent = translations[lang]['next'];
    if (backTop) backTop.textContent = translations[lang]['back-top'];
    // Menu de navigation
    const navLinks = document.querySelectorAll(".nav-link");
    if (navLinks.length >= 4) {
        navLinks[0].childNodes[0].nodeValue = translations[lang]['navAccueil'] + " ";
        navLinks[1].childNodes[0].nodeValue = translations[lang]['navApropos'] + " ";
        navLinks[2].childNodes[0].nodeValue = translations[lang]['navCV'] + " ";
        navLinks[3].childNodes[0].nodeValue = translations[lang]['navSAE'] + " ";
    }
}

document.addEventListener('DOMContentLoaded', function() {
    const langSelector = document.getElementById('custom-content');
    const audio = document.getElementById('ambientAudio');
    const musicStatus = document.getElementById('music-status');
    changeLanguage(langSelector.value);
    langSelector.addEventListener('change', function() {
        changeLanguage(this.value);
    });
    if (musicStatus && audio) {
        musicStatus.addEventListener('click', function() {
            if (audio.paused) {
                audio.play();
            } else {
                audio.pause();
            }
            musicStatus.textContent = audio.paused
                ? translations[langSelector.value]['music-status-disable']
                : translations[langSelector.value]['music-status-enable'];
        });
        audio.addEventListener('play', function() {
            musicStatus.textContent = translations[langSelector.value]['music-status-enable'];
        });
        audio.addEventListener('pause', function() {
            musicStatus.textContent = translations[langSelector.value]['music-status-disable'];
        });
    }
});